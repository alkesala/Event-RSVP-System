<h1>My Events</h1>

<% if (events.length === 0) { %>
    <p>You haven't created any events yet. <a href="/events/new">Create one!</a></p>
<% } else { %>
    <% events.forEach(event => { %>
        <div class="event-card">
            <h3><a href="/events/<%= event.id %>"><%= event.name %></a></h3>
            <div class="event-info"> <%= event.location %></div>
            <div class="event-info"> <%= event.date %></div>
            <% if (event.capacity) { %>
                <div class="event-info"> Capacity: <%= event.capacity %></div>
            <% } %>
            <div class="event-info">
                <strong>RSVPs:</strong>
                <%= event.rspvs.filter(r => r.status === 'attending').length %> attending,
                <%= event.rspvs.filter(r => r.status === 'declined').length %> declined
            </div>
        </div>
    <% }); %>
<% } %>
